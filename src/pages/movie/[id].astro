---
const { id } = Astro.params;
import Layout from '../../layouts/Layout.astro';
import MovieDetails from '../../components/MovieDetails';

const response = await fetch(
  `https://technical-test-tmdb.vercel.app/api/movie-details${id}`,
  {
    method: 'GET',
    headers: {
      'Content-Type': 'application/json',
    },
  }
);
const data = await response.json();
const title = data.data.title;
---

<Layout title={`Movie Details | ${title}`}>
  <MovieDetails client:load movie_id={id as string} />
</Layout>
